<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>No olvides su gran poder</title>
  <link rel="stylesheet" href="flor2.css" />
</head>
<body>
  <!-- Música de fondo -->
  <audio autoplay loop>
    <source src="Cierra tus ojos.mp3" type="audio/mpeg" />
    Tu navegador no soporta audio HTML5.
  </audio>

  <!-- Sección espiritual -->
  <section class="power-reminder">
    <h2>No olvides su gran poder</h2>

    <!-- Formulario para añadir peticiones -->
    <form id="formulario-peticion">
      <input type="text" id="nueva-peticion" placeholder="Escribe tu petición..." required />
      <button type="submit">Añadir</button>
    </form>

    <!-- Lista de peticiones -->
    <div class="peticiones-list" id="lista-peticiones"></div>

    <!-- Botón Volver -->
    <div class="volver-container">
      <button onclick="history.back()">Volver</button>
    </div>
  </section>

  <!-- Script para añadir peticiones y animar -->
  <script>
    const formulario = document.getElementById('formulario-peticion');
    const lista = document.getElementById('lista-peticiones');

    formulario.addEventListener('submit', function (e) {
      e.preventDefault();
      const texto = document.getElementById('nueva-peticion').value.trim();
      if (texto === '') return;

      const peticion = document.createElement('div');
      peticion.className = 'peticion';

      const label = document.createElement('label');
      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';

      const spanTexto = document.createElement('span');
      spanTexto.textContent = `Petición: ${texto}`;

      const amen = document.createElement('span');
      amen.className = 'amen-text';
      amen.textContent = 'Amén';

      label.appendChild(checkbox);
      label.appendChild(spanTexto);
      peticion.appendChild(label);
      peticion.appendChild(amen);
      lista.appendChild(peticion);

      document.getElementById('nueva-peticion').value = '';

      checkbox.addEventListener('change', function () {
        if (this.checked) {
          peticion.classList.add('respondida');
          amen.classList.add('visible');
          setTimeout(() => {
            peticion.classList.remove('respondida');
          }, 1500);
        } else {
          amen.classList.remove('visible');
        }
      });
    });
  </script>
</body>
</html>
